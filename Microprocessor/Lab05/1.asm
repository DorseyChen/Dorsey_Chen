	ORG		0000H
	JMP		START
	ORG		0050H
START:
	MOV		DPTR,#TABLE	
	JMP		ROW1 	
	MOV		R0,#0
	MOV		R3,#0
CURRENT_SHOW:
	MOV		A,R3	//R3row
	ADD		A,R0    //R0col
	MOV		R2,A	//瘿R2
	//陪ボQ旒
	MOVC	A,@A+DPTR
	MOV		P1,A 			
	CALL	DELAY
	//陪ボ应旒
	INC		R2
	MOV		A,R2
	MOVC	A,@A+DPTR
	MOV		P1,A 		
	CALL	DELAY
ROW1:
	MOV		P0,#01111111B	
	CALL	DELAY
	MOV		A,P0
	ANL		A,#00001111B
	MOV		R1,#0	//@row惠n8应旄mxs 8*0
	CJNE	A,#00001111B,COL1	//pGAぃ单00001111BA恁堞col訾U	
ROW2:
	MOV		P0,#10111111B
	CALL	DELAY
	MOV		A,P0
	ANL		A,#00001111B
	MOV		R1,#8	//材Grow 8*1
	CJNE	A,#00001111B,COL1	
ROW3:
	MOV		P0,#11011111B 
	CALL	DELAY
	MOV		A,P0
	ANL		A,#00001111B
	MOV		R1,#16	//材Grow 8*2
	CJNE	A,#00001111B,COL1 
ROW4:
	MOV		P0,#11101111B 	
	CALL	DELAY
	MOV		A,P0
	ANL		A,#00001111B
	MOV		R1,#24	// 材Trow 8*3
	CJNE	A,#00001111B,COL1 
	JMP		CURRENT_SHOW	//SΤ计rQ訾U 
COL1:
	CJNE	A,#00001110B,COL2	
	MOV		R0,#0	//0*2
	JMP		SHOW
COL2:
	CJNE	A,#00001101B,COL3 
	MOV		R0,#2	//1*2
	JMP		SHOW
COL3:
	CJNE	A,#00001011B,COL4 
	MOV		R0,#4	//2*2
	JMP		SHOW
COL4:
	CJNE	A,#00000111B,CURRENT_SHOW	//SΤ计rQ訾U ぃ蠓sR1R3]ぃ蠓sR0	
	MOV		R0,#6 	//3*2
SHOW:
	MOV		A,R1 	
	MOV		R3,A	//蠓sR1R3
	JMP		CURRENT_SHOW
;--------------------------材@贺delay
DELAY:
	MOV		R5,#255
DELAY1:
	DJNZ	R5,DELAY1
	RET
;--------------------------	 
TABLE:
	DB		11110000B,01110000B	 //Q旒皮Ｅ悭+应旒=0	 
	DB		11110000B,01110001B	 //Q旒皮Ｅ悭+应旒=1
	DB		11110000B,01110010B	 //Q旒皮Ｅ悭+应旒=2		
	DB		11110000B,01110011B  //Q旒皮Ｅ悭+应旒=3
	DB		11110000B,01110100B	 //...
	DB		11110000B,01110101B	
	DB		11110000B,01110110B	
	DB		11110000B,01110111B	
	DB		11110000B,01111000B	
	DB		11110000B,01111001B	
	DB		10110001B,01110000B  //Q旒 =1+应旒=0
	DB		10110001B,01110001B	 //...
	DB		10110001B,01110010B	
	DB		10110001B,01110011B
	DB		10110001B,01110100B
	DB		10110001B,01110101B
END